#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
# Using build pattern: configure
#
# Source0 file verified with key 0x82781DE46D5954FA (covener@apache.org)
#
Name     : apr-util
Version  : 1.6.3
Release  : 25
URL      : https://www.apache.org/dist/apr/apr-util-1.6.3.tar.gz
Source0  : https://www.apache.org/dist/apr/apr-util-1.6.3.tar.gz
Source1  : https://www.apache.org/dist/apr/apr-util-1.6.3.tar.gz.asc
Summary  : Apache Portable Runtime Utility library
Group    : Development/Tools
License  : Apache-2.0
Requires: apr-util-bin = %{version}-%{release}
Requires: apr-util-lib = %{version}-%{release}
Requires: apr-util-license = %{version}-%{release}
BuildRequires : apr-dev
BuildRequires : buildreq-configure
BuildRequires : expat-dev
BuildRequires : openssl-dev
BuildRequires : sqlite-autoconf-dev
BuildRequires : util-linux-dev
# Suppress stripping binaries
%define __strip /bin/true
%define debug_package %{nil}
Patch1: 0001-Add-Requires-to-apr-util-on-expat.patch

%description
The mission of the Apache Portable Runtime (APR) is to provide a
free library of C data structures and routines.  This library
contains additional utility interfaces for APR; including support
for XML, LDAP, database interfaces, URI parsing and more.

%package bin
Summary: bin components for the apr-util package.
Group: Binaries
Requires: apr-util-license = %{version}-%{release}

%description bin
bin components for the apr-util package.


%package dev
Summary: dev components for the apr-util package.
Group: Development
Requires: apr-util-lib = %{version}-%{release}
Requires: apr-util-bin = %{version}-%{release}
Provides: apr-util-devel = %{version}-%{release}
Requires: apr-util = %{version}-%{release}

%description dev
dev components for the apr-util package.


%package lib
Summary: lib components for the apr-util package.
Group: Libraries
Requires: apr-util-license = %{version}-%{release}

%description lib
lib components for the apr-util package.


%package license
Summary: license components for the apr-util package.
Group: Default

%description license
license components for the apr-util package.


%prep
%setup -q -n apr-util-1.6.3
cd %{_builddir}/apr-util-1.6.3
%patch1 -p1

%build
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
export LANG=C.UTF-8
export SOURCE_DATE_EPOCH=1680650248
export GCC_IGNORE_WERROR=1
export AR=gcc-ar
export RANLIB=gcc-ranlib
export NM=gcc-nm
export CFLAGS="$CFLAGS -O3 -fdebug-types-section -femit-struct-debug-baseonly -ffat-lto-objects -flto=auto -g1 -gno-column-info -gno-variable-location-views -gz "
export FCFLAGS="$FFLAGS -O3 -fdebug-types-section -femit-struct-debug-baseonly -ffat-lto-objects -flto=auto -g1 -gno-column-info -gno-variable-location-views -gz "
export FFLAGS="$FFLAGS -O3 -fdebug-types-section -femit-struct-debug-baseonly -ffat-lto-objects -flto=auto -g1 -gno-column-info -gno-variable-location-views -gz "
export CXXFLAGS="$CXXFLAGS -O3 -fdebug-types-section -femit-struct-debug-baseonly -ffat-lto-objects -flto=auto -g1 -gno-column-info -gno-variable-location-views -gz "
%configure --disable-static --with-apr=/usr/bin/apr-1-config
make  %{?_smp_mflags}

%check
export LANG=C.UTF-8
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
make check

%install
export SOURCE_DATE_EPOCH=1680650248
rm -rf %{buildroot}
mkdir -p %{buildroot}/usr/share/package-licenses/apr-util
cp %{_builddir}/apr-util-%{version}/LICENSE %{buildroot}/usr/share/package-licenses/apr-util/8cd04ee1fde0cfe74a78fae4153a693cc795cc5c || :
%make_install

%files
%defattr(-,root,root,-)
/usr/lib64/aprutil.exp

%files bin
%defattr(-,root,root,-)
/usr/bin/apu-1-config

%files dev
%defattr(-,root,root,-)
/usr/include/apr_anylock.h
/usr/include/apr_base64.h
/usr/include/apr_buckets.h
/usr/include/apr_crypto.h
/usr/include/apr_date.h
/usr/include/apr_dbd.h
/usr/include/apr_dbm.h
/usr/include/apr_hooks.h
/usr/include/apr_ldap.h
/usr/include/apr_ldap_init.h
/usr/include/apr_ldap_option.h
/usr/include/apr_ldap_rebind.h
/usr/include/apr_ldap_url.h
/usr/include/apr_md4.h
/usr/include/apr_md5.h
/usr/include/apr_memcache.h
/usr/include/apr_optional.h
/usr/include/apr_optional_hooks.h
/usr/include/apr_queue.h
/usr/include/apr_redis.h
/usr/include/apr_reslist.h
/usr/include/apr_rmm.h
/usr/include/apr_sdbm.h
/usr/include/apr_sha1.h
/usr/include/apr_siphash.h
/usr/include/apr_strmatch.h
/usr/include/apr_thread_pool.h
/usr/include/apr_uri.h
/usr/include/apr_uuid.h
/usr/include/apr_xlate.h
/usr/include/apr_xml.h
/usr/include/apu.h
/usr/include/apu_errno.h
/usr/include/apu_version.h
/usr/include/apu_want.h
/usr/lib64/libaprutil-1.so
/usr/lib64/pkgconfig/apr-util-1.pc

%files lib
%defattr(-,root,root,-)
/usr/lib64/apr-util-1/apr_dbd_sqlite3-1.so
/usr/lib64/apr-util-1/apr_dbd_sqlite3.so
/usr/lib64/libaprutil-1.so.0
/usr/lib64/libaprutil-1.so.0.6.3

%files license
%defattr(0644,root,root,0755)
/usr/share/package-licenses/apr-util/8cd04ee1fde0cfe74a78fae4153a693cc795cc5c
